{"ast":null,"code":"var _jsxFileName = \"/home/nishant/travel_app/client/src/components/postDetails/CommentSection.jsx\";\nimport React, { useState, useRef } from 'react';\nimport { Typography, TextField, Button } from '@material-ui/core';\nimport { useDispatch } from 'react-redux';\nimport useStyles from './styles';\nimport { commentPost } from '../../actions/posts';\nconst CommentSection = _ref => {\n  var _user$result;\n  let {\n    post\n  } = _ref;\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const commentRef = useRef();\n  const user = JSON.parse(localStorage.getItem('profile'));\n  console.log(post);\n  const [comments, setComments] = useState(post === null || post === void 0 ? void 0 : post.comments);\n  const [comment, setComment] = useState([]);\n  const handleClick = async () => {\n    const finalComment = `${user.result.name}:${comment}`;\n    const newComments = await dispatch(commentPost(finalComment, post._id));\n    setComments(newComments);\n    setComment(\" \");\n    commentRef.current.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.commentsOuterContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.commentsInnerContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    gutterBottom: true,\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 12\n    }\n  }, \"Comments\"), comments.map((c, i) => /*#__PURE__*/React.createElement(Typography, {\n    key: i,\n    gutterBottom: true,\n    variant: \"subtitle1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }\n  }, c.split(''))), /*#__PURE__*/React.createElement(\"div\", {\n    ref: commentRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 12\n    }\n  })), (user === null || user === void 0 ? void 0 : (_user$result = user.result) === null || _user$result === void 0 ? void 0 : _user$result.name) && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"70%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    gutterBottom: true,\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }, \" Write a Comment\"), /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    minRows: 4,\n    variant: \"outlined\",\n    multiline: true,\n    label: \"Comment\",\n    value: comment,\n    onChange: e => setComment(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    style: {\n      marginTop: \"10px\"\n    },\n    fullWidth: true,\n    disabled: !comment,\n    color: \"primary\",\n    variant: \"contained\",\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, \"Comment\"))));\n};\nexport default CommentSection;","map":{"version":3,"names":["React","useState","useRef","Typography","TextField","Button","useDispatch","useStyles","commentPost","CommentSection","post","classes","dispatch","commentRef","user","JSON","parse","localStorage","getItem","console","log","comments","setComments","comment","setComment","handleClick","finalComment","result","name","newComments","_id","current","scrollIntoView","behavior","commentsOuterContainer","commentsInnerContainer","map","c","i","split","width","e","target","value","marginTop"],"sources":["/home/nishant/travel_app/client/src/components/postDetails/CommentSection.jsx"],"sourcesContent":["import React,{useState,useRef} from 'react'\nimport { Typography,TextField,Button } from '@material-ui/core'\nimport {useDispatch} from 'react-redux'\nimport useStyles from './styles';\nimport { commentPost } from '../../actions/posts';\n\nconst CommentSection = ({post}) => {\n  const classes = useStyles()\n  const dispatch = useDispatch()\n  const commentRef = useRef()\n  const user = JSON.parse(localStorage.getItem('profile'))\n  console.log(post)\nconst [comments,setComments] = useState(post?.comments)\nconst [comment, setComment] = useState([])\n\nconst handleClick = async() =>{\n  const finalComment = `${user.result.name}:${comment}`\n\n const newComments = await dispatch(commentPost(finalComment,post._id))\n setComments(newComments)\n setComment(\" \");\n\n commentRef.current.scrollIntoView({behavior:'smooth'})\n}\n  return (\n    <div>\n\n      <div className={classes.commentsOuterContainer}>\n        <div className={classes.commentsInnerContainer}>\n\n           <Typography gutterBottom variant='h6' >Comments</Typography>\n           {comments.map((c,i)=>(\n            <Typography key = {i} gutterBottom variant='subtitle1'>\n              {c.split('')}\n              </Typography>\n           ))}\n           <div ref={commentRef}/>\n        </div>\n        {user?.result?.name && (\n        <div style={{width :\"70%\"}}>\n          <Typography  gutterBottom variant='h6'> Write a Comment</Typography>\n          <TextField fullWidth minRows={4} variant='outlined' multiline label ='Comment' value={comment} onChange ={(e) =>setComment(e.target.value)} />\n        <Button style ={{marginTop : \"10px\"}} fullWidth disabled={!comment} color = 'primary' variant = \"contained\" onClick={handleClick}>Comment</Button>\n        </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default CommentSection"],"mappings":"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"},"metadata":{},"sourceType":"module"}